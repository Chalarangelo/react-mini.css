<!DOCTYPE html>
<html>
  <head>
    <title>HTML5 sample page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://gitcdn.link/repo/Chalarangelo/mini.css/master/dist/mini-default.min.css">
		<script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
		<div id="root"></div>
    <script type="text/babel">

		function generateUniqueId(){
		    // always start with a letter (for DOM friendlyness)
		    var idstr=String.fromCharCode(Math.floor((Math.random()*25)+65));
		    do {
		        // between numbers and characters (48 is 0 and 90 is Z (42-48 = 90)
		        var ascicode=Math.floor((Math.random()*42)+48);
		        if (ascicode<58 || ascicode>64){
		            // exclude all chars between : (58) and @ (64)
		            idstr+=String.fromCharCode(ascicode);
		        }
		    } while (idstr.length<32);

		    return (idstr);
		}

		class Tab extends React.Component {
			render() {
				return React.createElement('div',{},this.props.children);
			}
		}

		class Tabs extends React.Component {
			constructor(props) {
				super(props);
				var state = {
					group: 'tab_group_' + generateUniqueId(),
					children : []
				}
				if (!Array.isArray(this.props.children))
					var tempProps = [this.props.children];
				else
					var tempProps = this.props.children;
				tempProps.forEach(
					function(child){
						if (!child instanceof Tab){
							 throw "All children of a 'Tabs' component need to be of type 'Tab'. Expected type: 'Tab' Found type: '"+child.class+"'";
							 return;
						}
						var tab = Object.assign({}, child);
						tab.internalId = 'tab_' + generateUniqueId();
						state.children.push(tab);
					}
				);
				this.state = state;
			}

			render(){
				var childrenToRender = [];
				var groupName = this.state.group;
				var hasChecked = false;
				this.state.children.forEach(function(tab){
					if (tab.props.checked) {
						hasChecked = true;
					}
					childrenToRender.push(
						React.createElement(
							'input',{
								type: 'radio',
								name : groupName,
								id : tab.internalId,
								defaultChecked : (tab.props.checked) ? true : false,
								'aria-hidden': 'true'}
						)
					);
					childrenToRender.push(
						React.createElement(
							'label',{
								'htmlFor' : tab.internalId,
								'aria-hidden' : 'true'
							},
							'demo-tab'+tab.internalId
						)
					);
					childrenToRender.push(React.createElement('div',{},tab.props.children));
				});
				if (!hasChecked)
					childrenToRender[0] = React.createElement(
						'input', {
							type: 'radio',
							name : groupName,
							id : this.state.children[0].internalId,
							defaultChecked : true,
							'aria-hidden':'true'
						}
					);
				return React.createElement('div',{'className' : 'tabs'},childrenToRender);
			}
		}

      // ReactDOM.render(<Tabs>
      //   <Tab>Hello, world!</Tab></Tabs>,
      //   document.getElementById('root')
      // );

			// ReactDOM.render(
			// 	React.createElement(Tabs,{},[React.createElement(Tab,{},'Hello world')]),
			// 	document.getElementById('root')
			// );

			ReactDOM.render(
				<Tabs>
					<Tab>Hello, world! 1</Tab>
					<Tab checked>Hello, world! 2</Tab>
				</Tabs>,
				document.getElementById('root')
			);

    </script>
  </body>
</html>
